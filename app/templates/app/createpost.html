{% extends 'base.html' %}
{% load widget_tweaks %}


   {% block title %} 
   {% if form.instance.pk %}Update post {% else %} Create post
   {% endif %}
   {% endblock %}

{% block content %}
<div class="flex min-h-screen">
  <aside class="w-56 bg-white border-r border-gray-300 flex-shrink-0 sticky top-0 h-screen overflow-y-auto">
    {% include 'app/admin-sidebar.html' %}
  </aside>

  <main class="flex-1 p-6 lg:p-10 bg-gray-50 w-full">
    {% if form.instance.pk %}
      <h1 class="text-3xl font-bold text-center text-fuchsia-600 mb-8">Update Post</h1>
    {% else %}
      <h1 class="text-3xl font-bold text-center text-fuchsia-600 mb-8">Create Post</h1>
    {% endif %}

    <form method="post" enctype="multipart/form-data" class="max-w-3xl mx-auto space-y-8">
      {% csrf_token %}

      {% if form.non_field_errors %}
        <div class="text-red-600 border border-red-300 bg-red-50 p-4 rounded-lg">
          {{ form.non_field_errors }}
        </div>
      {% endif %}

      <div class="space-y-2">
        <label for="id_post_category" class="block text-gray-700 font-medium">Category</label>
        {{ form.post_category|add_class:"w-full rounded-lg border border-gray-300 px-4 py-2.5 focus:border-fuchsia-500 focus:ring-2 focus:ring-fuchsia-500/30 outline-none" }}
        <span class="text-red-600 text-sm">{{ form.post_category.errors }}</span>
      </div>

      <div class="space-y-2">
        <label for="id_post_name" class="block text-gray-700 font-medium required">Name</label>
        {{ form.post_name|add_class:"w-full rounded-lg border border-gray-300 px-4 py-2.5 focus:border-fuchsia-500 focus:ring-2 focus:ring-fuchsia-500/30 outline-none" }}
        <span class="text-red-600 text-sm">{{ form.post_name.errors }}</span>
      </div>
      
      <div class="space-y-2">
        <label for="id_post_img" class="block text-gray-700 font-medium">Image</label>
        {{ form.post_img|add_class:"w-full rounded-lg border border-gray-300 px-4 py-2.5 focus:border-fuchsia-500 focus:ring-2 focus:ring-fuchsia-500/30 outline-none" }}
        <span class="text-red-600 text-sm">{{ form.post_img.errors }}</span>
      </div>

      <div class="space-y-2">
        <label for="id_post_alt" class="block text-gray-700 font-medium">Alt text</label>
        {{ form.post_alt|add_class:"w-full rounded-lg border border-gray-300 px-4 py-2.5 focus:border-fuchsia-500 focus:ring-2 focus:ring-fuchsia-500/30 outline-none" }}
        <span class="text-red-600 text-sm">{{ form.post_alt.errors }}</span>
      </div>

      <div class="space-y-2">
        <label for="id_post_description" class="block text-gray-700 font-medium">Description</label>
        {{ form.post_description|add_class:"w-full rounded-lg border border-gray-300 px-4 py-2.5 focus:border-fuchsia-500 focus:ring-2 focus:ring-fuchsia-500/30 outline-none" }}
        <span class="text-red-600 text-sm">{{ form.post_description.errors }}</span>
      </div>

      <div class="flex justify-center mt-10">
        {% if form.instance.pk %}
          <button type="submit" class="px-10 py-4 bg-fuchsia-600 text-white rounded-xl hover:bg-fuchsia-700 active:bg-fuchsia-800 hover:scale-105 active:scale-95 transition-all duration-200 shadow-lg text-lg font-medium">
            Update
          </button>
        {% else %}
          <button type="submit" class="px-10 py-4 bg-fuchsia-600 text-white rounded-xl hover:bg-fuchsia-700 active:bg-fuchsia-800 hover:scale-105 active:scale-95 transition-all duration-200 shadow-lg text-lg font-medium">
            Add
          </button>
        {% endif %}
      </div>
    </form>
  </main>
</div>
{% endblock %}