{% extends 'base.html' %}
{% load widget_tweaks %}

{% block content %}
    {% if form.instance.pk %}
        <h1 class="text-3xl text-center text-fuchsia-600">Update Post</h1>
    {% else %}
        <h1 class="text-3xl text-center text-fuchsia-600">Create Post</h1>
    {% endif %}

    <form method="post" enctype="multipart/form-data" class="flex flex-col justify-between items-center space-y-6 m-auto mb-8 w-[75%]"> {% csrf_token %}

        {% if form.non_field_errors %}
        <div style="color:red; border:1px solid red; padding:10px;">
            {{ form.non_field_errors }}
        </div>
    {% endif %}

        <div class="flex justify-center items-left w-[50%] flex-col">
            <label for="id_post_category">Category</label>
            {{form.post_category}}
            <span style="color:red;">{{ form.post_category.errors }}</span>
        </div>

        <div class="flex justify-center items-left w-[50%] flex-col">
            <label for="id_post_img" class="required">Image</label>
            {{form.post_img}}
            <span style="color:red;">{{ form.post_img.errors }}</span>
        </div>

        <div class="flex justify-center items-left w-[50%] flex-col">
            <label for="id_post_name" class="required">Name</label>
            {{form.post_name|add_class:"w-[100%] rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-gray-90 placeholder:text-gray-40 shadow-sm transition-all duration-20 focus:border-violet-500 focus:ring-2 focus:ring-violet-500/30 focus:ring-offset-2 focus:shadow-md hover:border-gray-400 outline-none"}}
            <span style="color:red;">{{ form.post_name.errors }}</span>
        </div>

        <div class="flex justify-center items-left w-[50%] flex-col">
            <label for="id_post_alt">Alt text</label>
            {{form.post_alt|add_class:"w-[100%] rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-gray-90 placeholder:text-gray-40 shadow-sm transition-all duration-20 focus:border-violet-500 focus:ring-2 focus:ring-violet-500/30 focus:ring-offset-2 focus:shadow-md hover:border-gray-400 outline-none"}}
            <span style="color:red;">{{ form.post_alt.errors }}</span>
        </div>

        <div class="flex justify-center items-left w-[50%] flex-col">
            <label for="id_post_description">Description</label>
            {{form.post_description|add_class:"w-[100%] rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-gray-90 placeholder:text-gray-40 shadow-sm transition-all duration-20 focus:border-violet-500 focus:ring-2 focus:ring-violet-500/30 focus:ring-offset-2 focus:shadow-md hover:border-gray-400 outline-none"}}
            <span style="color:red;">{{ form.post_description.errors }}</span>
        </div>

        {% if form.instance.pk %}
        <button type="submit" class="rounded bg-fuchsia-600 text-white hover:bg-fuchsia-700 active:bg-fuchsia-800 px-6 py-3 self-center text-lg hover:scale-105 active:scale-95 transition-all duration-200 shadow-md">Update</button>
        {% else %}
        <button type="submit" class="rounded bg-fuchsia-600 text-white hover:bg-fuchsia-700 active:bg-fuchsia-800 px-6 py-3 self-center text-lg hover:scale-105 active:scale-95 transition-all duration-200 shadow-md">Add</button>
        {% endif %}
    </form>

{% endblock %}