{% extends 'base.html' %}

{% block content %}
<div class="max-w-4xl w-full mx-auto my-6 px-4 sm:px-6 lg:px-8">
  <div class="bg-white border border-gray-200 rounded-2xl shadow-lg overflow-hidden">
    <!-- Header / Actions -->
    {% if user.is_authenticated %}
    <div class="flex justify-end gap-4 p-6 border-b border-gray-100">
      <a href="{% url 'app:update-post' post.pk %}"
         class="inline-flex items-center px-6 py-3 text-lg font-medium rounded-lg bg-green-50 text-green-700 hover:bg-green-100 active:bg-green-200 hover:scale-105 active:scale-95 transition-all duration-200 shadow-sm">
        Update
      </a>
      <a href="{% url 'app:delete-post' post.pk %}"
         class="inline-flex items-center px-6 py-3 text-lg font-medium rounded-lg bg-red-50 text-red-700 hover:bg-red-100 active:bg-red-200 hover:scale-105 active:scale-95 transition-all duration-200 shadow-sm">
        Delete
      </a>
    </div>
    {% endif %}

    <!-- Image -->
    <div class="rounded overflow-hidden bg-gray-100">
      <img 
        src="{{ post.post_img.url }}" 
        alt="{{ post.post_alt|default:post.post_name }}" 
        class="w-full h-full object-cover transition-transform duration-500 hover:scale-105"
      >
    </div>

    <!-- Content -->
    <div class="p-6 md:p-10 text-center md:text-left">
      <h1 class="text-3xl md:text-4xl font-bold text-fuchsia-600 mb-2">
        {{ post.post_name }}
      </h1>

  
<!-- Author and dates -->
<div class="text-gray-600 text-sm mb-6 space-y-1">
  <p>By {{ post.author }}</p>

  {% if post.post_modified_at and post.post_modified_at|date:"Y-m-d H:i:s" != post.post_created_at|date:"Y-m-d H:i:s" %}
  <p>Last edited on {{ post.post_modified_at|date:"F d, Y" }}</p>
{% else %}
  <p>Created on {{ post.post_created_at|date:"F d, Y" }}</p>
{% endif %}
</div>

      {% if post.post_description %}
      <div class="prose prose-lg max-w-none text-gray-700">
        {{ post.post_description|linebreaks }}
      </div>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}